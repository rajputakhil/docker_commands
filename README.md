# docker_commands

Docker allows you to quickly build, test and deploy applications as portable, self-sufficient containers that can virtually run everywhere.

Docker doesn’t remove unused objects such as containers, images, volumes, and networks unless you explicitly tell it to do so. As you work with Docker, you can easily accumulate a large number of unused objects that consume significant disk space and clutter the output produced by the Docker commands.

This guide serves as a “cheat sheet” to help Docker users keep their system organized and to free disk space by removing unused Docker containers, images, volumes, and networks.


Linux users might want to add their user to the docker group to avoid having to use ```sudo```. To do so, just run ```sudo usermod -a -G docker <username>```. You may need to login again to refresh your group membership. (Mac and Windows users do not need to use sudo.)


```s
$ docker system prune # remove all stopped containers, all dangling images, and all unused networks
```

Docker containers are not automatically removed when you stop them unless you start the container using the --rm flag.

You can get a list of all active and inactive containers by passing the -a flag to the docker container ls command:

docker container ls -a

Once you know the CONTAINER ID of the containers you want to delete, pass it to the docker container rm command. For example to remove the first two containers listed in the output above run:

docker container rm cc3f2ff51cab cd20b396a061

If you get an error similar to the following, it means that the container is running. You’ll need to stop the container before removing it.

To remove one or more Docker images use the docker images ls command to find the ID of the images you want to remove.

docker image ls

docker image rm 75835a67d134 2a4cca5ac898

Remove one or more volumes
To remove one or more Docker volumes use the docker volume ls command to find the ID of the volumes you want to remove.

docker volume ls

## Top 10 Docker CLI commands you can’t live without

https://medium.com/the-code-review/top-10-docker-commands-you-cant-live-without-54fb6377f481

A container is launched by running an image.

An image is an executable package that includes everything needed to run an application–the code, a runtime, libraries, environment variables, and configuration files.

A container is a runtime instance of an image–what the image becomes in memory when executed (that is, an image with state, or a user process).

1. docker ps — Lists running containers. Some useful flags include: -a / -all for all containers (default shows just running) and —-quiet /-q to list just their ids (useful for when you want to get all the containers).

2. docker pull — Most of your images will be created on top of a base image from the Docker Hub registry. Docker Hub contains many pre-built images that you can pull and try without needing to define and configure your own. To download a particular image, or set of images (i.e., a repository), use docker pull.

3. docker build — The docker build command builds Docker images from a Dockerfile and a “context”. A build’s context is the set of files located in the specified PATH or URL. Use the -t flag to label the image, for example docker build -t my_container . with the . at the end signalling to build using the currently directory.

4. docker run — Run a docker container based on an image, you can follow this on with other commands, such as -it bash to then run bash from within the container. Also see Top 10 options for docker run — a quick reference guide for the CLI command. docker run my_image -it bash

5. docker logs — Use this command to display the logs of a container, you must specify a container and can use flags, such as --follow to follow the output in the logs of using the program. docker logs --follow my_container

6. docker volume ls — This lists the volumes, which are the preferred mechanism for persisting data generated by and used by Docker containers.

7. docker rm — Removes one or more containers. docker rm my_container

8. docker rmi — Removes one or more images. docker rmi my_image

9. docker stop — Stops one or more containers. docker stop my_container stops one container, while docker stop $(docker ps -a -q) stops all running containers. A more direct way is to use docker kill my_container, which does not attempt to shut down the process gracefully first.

10. Use them together, for example to clean up all your docker images and containers:
* kill all running containers with docker kill $(docker ps -q)
* delete all stopped containers with docker rm $(docker ps -a -q)
* delete all images with docker rmi $(docker images -q)